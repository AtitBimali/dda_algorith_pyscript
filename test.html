<html>

<head>
    <title>Document</title>
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <link rel ="stylesheet" href ="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <py-env>
        - matplotlib
    </py-env>
</head>

<style>
    input[type=text],
    select {
        width: 50%;
        padding: 10px 10px;
        margin: 8px 0;
        display: inline-block;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
        align-items: center;
    }

    input[type=submit] {
        width: 50%;
        background-color: #4c4faf;
        color: white;
        padding: 14px 20px;
        margin: 8px 0;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        align-content: center;
    }

    input[type=submit]:hover {
        background-color: #45a049;
    }

    p {
        border-radius: 5px;
        background-color: #f2f2f2;
        padding: 20px;
    }
</style>

<body>
    <nav class="navbar navbar-expand-lg bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="https://atitbimali.com.np/">Contact Admin</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarScroll">
            <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://github.com/AtitBimali/dda_algorithm_pyscript">GitHub</a>
              </li>
            </ul>
            <form class="d-flex" role="search">
              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
          </div>
        </div>
      </nav>

      <h1 id="h1" style="text-align:center;">DDA Line Drawing Algorithm</h1>
      <hr>
      <h4 id="h3" class="text-muted" style="text-align:center;">Implementation of DDA Algorithm using pyscript and matplotlib</h4>
      <p style="text-align:center;">Input the X-coordinates and Y-coordinates and it will generate a matplotlib plot using the DDA line drawing 
        algotithm. <br> Don't put equal values for the coordinates because the difference will be 0 which will make the denominator/numerator 0 so no plot will be displayed.
      </p>
<hr class="border border-primary border-3 opacity-75">
    <form onsubmit="return false" style="margin-left: 30%;">
        <label for="name">Enter x1:</label><br>
        <input type="text" id="x1" name="x1" value=""><br>
        <label for="name">Enter y1</label><br>
        <input type="text" id="y1" name="y2" value=""><br>
        <label for="name">Enter x2:</label><br>
        <input type="text" id="x2" name="x2" value=""><br>
        <label for="name">Enter y2</label><br>
        <input type="text" id="y2" name="y2" value=""><br>
        <select name="algorithm" id="algorithm">
            <option value="DDA">DDA Line Drawing Algorithm</option>

        </select>
        <input pys-onClick="main" id="submit" value="submit" type="submit">
    </form>
 
    
    <!-- <py-script> print("My Lineplot")</py-script> -->
    <div id="lineplot"></div>
    <py-script output="lineplot">
        # Python Code Goes Here ...
    
        
        import matplotlib.pyplot as plt
        <!-- def index(*args, **kwargs): -->
        fig, ax = plt.subplots()
        def DDALine(x1, y1, x2, y2, color):
            dx = x2 - x1
            dy = y2 - y1
            # calculate steps required for generating pixels
            steps = abs(dx) if abs(dx) > abs(dy) else abs(dy)
            #calculate increment in x & y for each steps
            Xinc = float(dx / steps)
            Yinc = float(dy / steps)
            for i in range(0, int(steps + 1)):
            # Draw pixels
                plt.plot(int(x1), int(y1), color)
                x1 += Xinc
                y1 += Yinc
            plt.plot()
        def main(*args, **kwargs):
            xa = Element('x1').element
            xavalue = int(xa.value)
            ya = Element('y1').element
            yavalue = int(ya.value)
            xb = Element('x2').element
            xbvalue = int(xb.value)
            yb = Element('y2').element
            ybvalue = int(yb.value)
            x = xavalue
            y = yavalue
            xEnd = xbvalue
            yEnd =ybvalue
            color = "r."
            DDALine(x, y, xEnd, yEnd, color)
            fig
            result_place = Element('lineplot')
            result_place.write(fig)
            
        

        
        
            

    </py-script>
</body>
</html>